 <style>
    .dropdown-menu.dropdown-scroll {
        max-height: 150px;
        overflow-y: auto;
    }
</style>

<div class="col-lg-12">
    <div class="row col-lg-12">
        <h5 class="help-block">Основная / Поездки / Заявка на командировку/служебную поездку</h5>
        <h3 class="val-text">Заявка на командировку/служебную поездку</h3>
    </div>

    <div class="pull-right dropdown val-dropdown">
        <button class="btn btn-default dropdown-toggle col-lg-12" type="button" data-toggle="dropdown">
            {{'Печать' | uppercase}}
            <span class="caret"></span>
        </button>
        <ul class="dropdown-menu">
            <li>
                <a ng-click="printReport(formData)">{{'Служебное задание' | uppercase}}</a>
            </li>
            <li role="separator" class="divider"></li>
            <li>
                <a ng-click="printMemo(formData)">{{'Служебная записка' | uppercase}}</a>
            </li>
        </ul>
    </div>

    <div class="row col-lg-12">
        <hr />
    </div>
    <!-- Заголовок -->
    <form name="form1" class="row">
        <div class="col-lg-12">
            <div class="col-lg-7">
                <div class="form-horizontal">
                    <div class="form-group">
                        <span class="col-lg-3 control-label text-muted">
                            <p class="pull-left val-asterisk">Заявка</p>
                        </span>
                        <div class="col-lg-9 nopadding">
                            <div class="col-lg-4">
                                <input type="text" ng-value="formData.number" disabled class="form-control" />
                            </div>
                            <div class="col-lg-1">
                                <span class="pull-left control-label ">от</span>
                            </div>
                            <div class="col-lg-5">
                                <div class="has-feedback single-datepicker">
                                    <input ng-disabled="true" date-range-picker options="{singleDatePicker: true}" ui-mask="99.99.9999" class="form-control date-picker" type="text" ng-model="formData.date" />
                                    <i class="fa fa-calendar form-control-feedback"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <span class="col-lg-3 control-label text-muted ">
                            <p class="pull-left val-asterisk">Тип поездки</p>
                        </span>
                        <div class="col-lg-9">
                            <select ng-disabled="accessList.formHeader == 1" class="form-control" ng-model="formData.requestMainData.tripType" selectpicker ng-options="item as item.Name for item in tripRequestData.tripTypes track by item.Id" title="Выберите тип поездки..." validation-name="tripType" validation-dynamically-defined="validations">
                                <option data-hidden="true"></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <span class="col-lg-3 control-label text-muted">
                            <p class="pull-left val-asterisk">Содержание задания (цель)</p>
                        </span>
                        <div class="col-lg-9">
                            <select ng-disabled="accessList.formHeader == 1" class="form-control" ng-model="formData.requestMainData.tripAim" selectpicker ng-options="item as item.Name for item in tripRequestData.tripAims track by item.Id" title="Выберите цель поездки..." validation-name="tripAim" validation-dynamically-defined="validations">
                                <option data-hidden="true"></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <span class="col-lg-3 control-label text-muted">
                            <p class="pull-left val-asterisk">Вид транспорта</p>
                        </span>
                        <div class="col-lg-9">
                            <select ng-disabled="accessList.formHeader == 1" class="form-control" ng-model="formData.requestMainData.vehicle" selectpicker ng-options="item as item.Name for item in tripRequestData.vehicles track by item.Id" title="Выберите вид транспорта..." validation-name="vehicle" validation-dynamically-defined="validations">
                                <option data-hidden="true"></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <span class="col-lg-3 control-label text-muted">
                            <p class="pull-left">Общий комментарий</p>
                        </span>
                        <div class="col-lg-9">
                            <input ng-disabled="accessList.formHeader == 1" class="form-control" placeholder="..." ng-model="formData.requestMainData.comment" validation-name="comment" validation-dynamically-defined="validations" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-horizontal col-lg-5">
                <form>
                    <div class="form-group">
                        <span class="col-lg-4 control-label text-muted">
                            <p class="pull-left val-asterisk">Поездка для</p>
                        </span>
                        <div class="col-lg-8">
                            <select ng-disabled="true" class="form-control" ng-model="formData.requestMainData.person" selectpicker ng-options="item.FullName for item in persons track by item.Id" title="Выберите сотрудника..." data-size="10">
                                <option data-hidden="true"></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="container-fluid">
                            <div class="jumbotron col-lg-12">
                                <div class="col-lg-12 text-muted">
                                    <span>ФИО: </span>
                                    <span>{{formData.requestMainData.person.FullName}}</span>
                                </div>
                                <div class="col-lg-12 text-muted">
                                    <span>Должность: </span>
                                    <span>{{formData.requestMainData.person.Position}}</span>
                                </div>
                                <div class="col-lg-12 text-muted">
                                    <span>Отдел: </span>
                                    <span>{{formData.requestMainData.person.DepartmentName}}</span>
                                </div>
                                <div class="col-lg-12 text-muted">
                                    <span>Cost-центр: </span>
                                    <span>{{formData.requestMainData.person.CostcenterCode}}</span>
                                </div>
                                <div class="col-lg-12 text-muted">
                                    <span>Телефон: </span>
                                    <span>{{formData.requestMainData.person.Tel}}&nbsp; </span>
                                </div>
                                <div class="col-lg-12 text-muted">
                                    <span>E-mail: </span>
                                    <span>{{formData.requestMainData.person.Email}}</span>
                                </div>
                                <div class="col-lg-12 text-muted">
                                    <span>Паспорт: </span>
                                    <span>Серия: {{formData.requestMainData.person.Passport.DocumentSeries}}, номер: {{formData.requestMainData.person.Passport.DocumentNumber}}, выдан: {{formData.requestMainData.person.Passport.DocumentIssuedBy}} {{formData.requestMainData.person.Passport.DocumentIssuedOn | date: "dd.MM.yyyy"}}г.</span>
                                </div>
                                <div class="col-lg-12 text-muted">
                                    <span>Загранпаспорт: </span>
                                    <span>№{{formData.requestMainData.person.InternationalPassport.Number}}, {{formData.requestMainData.person.InternationalPassport.FirstName}} {{formData.requestMainData.person.InternationalPassport.LastName}}, до {{formData.requestMainData.person.InternationalPassport.ExpiryDate | date: "dd.MM.yyyy"}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </form>

    <!-- Приказ -->
    <div class="panel panel-noshadow">
        <form name="formOrder" class="row">
            <div class="form-inline" ng-if="orderBlockVisible">
                <p class="text-muted text-bold val-asterisk col-lg-3">Приказ номер</p>
                <div class="form-group">
                    <input style="width: 100px;" ng-pattern-restrict pattern="^\d*$" class="form-control" ng-model="formData.requestMainData.orderData.orderNum"
                           ng-value="formData.requestMainData.orderData.orderNum"
                           ng-disabled="accessList.order == 1"
                           validation-name="orderField" validation-dynamically-defined="validations"/>
                </div>
                <div class="form-group">
                    <span>от&nbsp;</span>
                    <div class="form-group has-feedback single-datepicker">
                        <input ng-disabled="accessList.order == 1" date-range-picker options="{singleDatePicker: true}" ui-mask="99.99.9999" class="form-control date-picker" type="text" ng-model="formData.requestMainData.orderData.date"
                               validation-name="inputField" validation-dynamically-defined="validations"/>
                        <i class="fa fa-calendar form-control-feedback"></i>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- Пункты назначения -->
    <div class="panel panel-default val-panel">
        <div class="panel-heading">
            <div class="row">
                <div class="form-inline col-lg-3">
                    <div class="form-group">
                        <h3 class="col-lg-12">Пункты назначения</h3>
                    </div>
                </div>
            </div>
        </div>

        <form name="formDest" class="table-responsive no-padding" validation-name="destinationRows" validation-dynamically-defined="validations" validation-field-required="true">
            <table class="table table-bordered table-hover val-table">
                <thead>
                    <tr>
                        <th>№</th>
                        <th>Страна</th>
                        <th>Город</th>
                        <th>Организация</th>
                        <th>Дата начала</th>
                        <th>Дата окончания</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="d in formData.destinationsData.rows track by $index">
                        <td>{{d.index}}</td>
                        <td width="170px">
                            <select ng-disabled="accessList.destinationsData == 1" selectpicker="{liveSearch: true, noneResultsText:'Нет совпадений {0}'}" ng-model="d.country" class="form-control" data-container="body" ng-options="item as item.Name for item in filteredCountries track by item.Id" data-size="10" title="Выберите страну..." validation-name="country" validation-dynamically-defined="validations">
                                <option data-hidden="true"></option>
                            </select>
                        </td>
                        <td width="260px">
                            <input ng-disabled="accessList.destinationsData == 1" type="text" ng-model="d.city" typeahead-min-length="3" uib-typeahead="state.Name for state in countryToCityFilter(d) | filter:$viewValue" class="form-control" validation-name="city" validation-dynamically-defined="validations">
                        </td>
                        <td>
                            <input ng-disabled="accessList.destinationsData == 1" class="form-control" ng-model="d.organization" validation-name="inputField" validation-dynamically-defined="validations" />
                        </td>
                        <td width="160px">
                            <div class="form-group has-feedback">
                                <input ng-disabled="accessList.destinationsData == 1" ui-mask="99.99.9999" date-range-picker options="{singleDatePicker: true}" class="form-control date-picker" type="text" ng-model="d.date.startDate" validation-name="startDate" validation-dynamically-defined="validations" />
                                <i class="fa fa-calendar form-control-feedback"></i>
                            </div>
                        </td>
                        <td width="160px">
                            <div class="form-group has-feedback">
                                <input ng-disabled="accessList.destinationsData == 1" ui-mask="99.99.9999" date-range-picker options="{singleDatePicker: true}" class="form-control date-picker" type="text" ng-model="d.date.endDate" validation-name="endDate" validation-dynamically-defined="validations" />
                                <i class="fa fa-calendar form-control-feedback"></i>
                            </div>
                        </td>

                        <td width="30px">
                            <button type="button" class="btn btn-flat val-btn-remove ${accessList.destinationsData == 1 ? 'disabled' : ''}" ng-disabled="formData.destinationsData.rows.length != ($index +1)" ng-click="removeDestination()">
                                <span class="fa fa-remove"></span>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
        <div class="panel-footer">
            <div class="row">
                <div class="col-lg-3">
                    <span class="text-bold">Командировка в выходной день: {{isWeekendDayTrip()}}</span>
                </div>
                <!--<form class="form-inline col-lg-8 pull-right">
                    <div class="form-group pull-right">
                        <span class="col-lg-2">Пребывание за свой счет до поездки</span>
                        <checkbox ng-model="formData.destinationsData.options.before.ownExpense" ng-disabled="accessList.destinationsData == 1"></checkbox>
                        <input min="0" type="number" class="form-control col-lg-1" ng-model="formData.destinationsData.options.before.days" ng-disabled="accessList.destinationsData == 1">
                        <span>&nbsp;дней</span>
                    </div>
                </form>-->

                <div class="form-inline pull-right col-lg-offset-5">
                    <div class="checkbox">
                        <label>
                            <checkbox ng-model="formData.destinationsData.options.before.ownExpense" ng-disabled="accessList.destinationsData == 1"></checkbox> Пребывание за свой счет до поездки
                        </label>
                    </div>
                    <div class="input-group">
                        <input min="0" type="number" class="form-control " ng-model="formData.destinationsData.options.before.days" ng-disabled="accessList.destinationsData == 1">
                        <div class="input-group-addon">дней</div>
                    </div>

                </div>
                <div class="form-inline pull-right col-lg-offset-5">
                    <div class="checkbox">
                        <label>
                            <checkbox ng-model="formData.destinationsData.options.after.ownExpense" ng-disabled="accessList.destinationsData == 1"></checkbox> Пребывание за свой счет после поездки
                        </label>
                    </div>
                    <div class="input-group">
                        <input min="0" type="number" class="form-control " ng-model="formData.destinationsData.options.after.days" ng-disabled="accessList.destinationsData == 1">
                        <div class="input-group-addon">дней</div>
                    </div>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <button type="button" ng-disabled="accessList.destinationsData == 1" class="btn btn-flat btn-info val-btn val-btn-margin pull-right" ng-click="addDestination()"><i class="fa fa-plus"></i> Добавить место назначения</button>
            </div>
        </div>
    </div>

    <!-- Расчет суточных -->
    <div class="panel panel-default val-panel">
        <div class="panel-heading">
            <div class="row">
                <div class="form-inline col-lg-3">
                    <div class="form-group">
                        <h3 class="col-lg-12">Расчет суточных</h3>
                    </div>
                </div>
            </div>
            <form name="foreignDatesForm" class="row">
                <div class="form-inline col-lg-12" ng-if="foreignDestination">
                    <div class="form-group col-lg-12">
                        <span class="text-muted">Даты пересечения границы&nbsp;&nbsp;</span>
                        <div class="form-group has-feedback single-datepicker">
                            <input ng-disabled="accessList.dailyCostsData == 1" date-range-picker options="{singleDatePicker: true }" ui-mask="99.99.9999" class="form-control date-picker" type="text" ng-model="formData.dailyCostsData.options.departure" validation-name="foreignDateInRange" validation-dynamically-defined="validations" />
                            <i class="fa fa-calendar form-control-feedback"></i>
                        </div>
                        <span class="text-muted">&nbsp;&nbsp;&mdash;&nbsp;&nbsp;</span>
                        <div class="form-group has-feedback single-datepicker">
                            <input ng-disabled="accessList.dailyCostsData == 1" date-range-picker options="{singleDatePicker: true}" ui-mask="99.99.9999" class="form-control date-picker" type="text" ng-model="formData.dailyCostsData.options.entry" validation-name="foreignDateInRange" validation-dynamically-defined="validations"/>
                            <i class="fa fa-calendar form-control-feedback"></i>
                        </div>
                    </div>
                </div>
            </form>

        </div>
        <div class="table-responsive no-padding">

            <table class="table table-bordered table-hover val-table">
                <thead>
                    <tr>
                        <th>Дата</th>
                        <th>Город</th>
                        <th>Обед</th>
                        <th>Ужин</th>
                        <th>Базовая ставка</th>
                        <th>Суточные</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="dc in formData.dailyCostsData.rows track by $index">
                        <td width="200px">
                            <div class="input-group">
                                <span>{{dc.date  | moment: 'format': 'DD.MM.YYYY'}}</span>
                            </div>

                        </td>
                        <td width="250px">
                            <span>
                                <input ng-disabled="true" ng-model="dc.city" class="form-control" />
                            </span>
                        </td>
                        <td class="text-center">
                            <checkbox ng-disabled="accessList.dailyCostsData == 1" ng-change="updateSavedDataIfExist(dc)" ng-model="dc.dinner"></checkbox>
                        </td>
                        <td class="text-center">
                            <checkbox ng-disabled="accessList.dailyCostsData == 1" ng-change="updateSavedDataIfExist(dc)" ng-model="dc.supper"></checkbox>
                        </td>
                        <td>
                            <span>{{getLimit(dc)}}</span>
                        </td>
                        <td>
                            <span>{{getDailyCost(dc)}}</span>
                        </td>
                    </tr>
                </tbody>
            </table>


        </div>
        <div class="panel-footer">
            <div class="row">
                <div class="col-lg-12">
                    <span class="text-bold pull-right">Итого: {{totalDailyCosts()}}</span>
                </div>
            </div>

        </div>

    </div>

    <!-- Заказ билетов -->
    <div class="panel panel-default val-panel" ng-show="checkBlockVisibility('tickets')">
        <div class="panel-heading">
            <div class="row">
                <div class="form-inline col-lg-3">
                    <div class="form-group">
                        <h3 class="col-lg-12">Заказ билетов</h3>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <form name="ticketForm" class="table-responsive no-padding">
                <table class="table table-bordered table-hover val-table">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>Дата</th>
                            <th>Откуда</th>
                            <th>Куда</th>
                            <th>№ рейса/поезда/время</th>
                            <th>Нужен багаж</th>
                            <th>Комментарий</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="tr in formData.ticketRequestsData.rows track by $index">
                            <td>{{$index + 1}}</td>
                            <td width="160px">
                                <div class="form-group has-feedback">
                                    <input required ng-disabled="accessList.ticketRequestsData == 1" date-range-picker options="{singleDatePicker: true}" ui-mask="99.99.9999" class="form-control date-picker" type="text" ng-model="tr.date" validation-name="ticketDateInRange" validation-dynamically-defined="validations" />
                                    <i class="fa fa-calendar form-control-feedback"></i>
                                </div>
                            </td>
                            <td width="260px">
                                <input type="text" ng-disabled="accessList.ticketRequestsData == 1" ng-model="tr.from" typeahead-min-length="3" uib-typeahead="state.Name for state in tripRequestData.cities | filter:$viewValue" class="form-control" validation-name="city" validation-dynamically-defined="validations">
                            </td>
                            <td width="260px">
                                <input type="text" ng-disabled="accessList.ticketRequestsData == 1" ng-model="tr.to" typeahead-min-length="3" uib-typeahead="state.Name for state in tripRequestData.cities | filter:$viewValue" class="form-control" validation-name="city" validation-dynamically-defined="validations">
                            </td>
                            <td>
                                <input type="text" ng-value="tr.ticketDescription" ng-disabled="accessList.ticketRequestsData == 1" ng-model="tr.ticketDescription" class="form-control" validation-name="inputField" validation-dynamically-defined="validations" />
                            </td>
                            <td class="text-center">
                                <checkbox ng-model="tr.noBaggage" ng-disabled="accessList.ticketRequestsData == 1"></checkbox>
                            </td>
                            <td>
                                <input type="text" ng-value="tr.comment" ng-disabled="accessList.ticketRequestsData == 1" ng-model="tr.comment" class="form-control" />
                            </td>
                            <td width="30px">
                                <button type="button" class="btn btn-flat val-btn-remove" ng-disabled="accessList.ticketRequestsData == 1" ng-click="removeTicketRequest()">
                                    <span class="fa fa-remove"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </form>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <button type="button" ng-disabled="checkVehicleType() || accessList.ticketRequestsData == 1" class="btn btn-flat btn-info val-btn val-btn-margin pull-right" ng-click="addTicketRequest()"><i class="fa fa-plus"></i> Добавить рейс</button>
            </div>
        </div>
    </div>

    <!-- Заказ гостиниц -->
    <div class="panel panel-default val-panel">
        <div class="panel-heading">
            <div class="row">
                <div class="form-inline col-lg-12">
                    <div class="form-group">
                        <h3 class="col-lg-12">Заказ гостиницы</h3>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-inline col-lg-12">
                    <div class="form-group col-lg-12">
                        <div class="checkbox">
                            <label>
                                <checkbox ng-disabled="accessList.hotelRequestsData == 1" ng-model="formData.hotelRequestsData.options.isNeed" ng-value="formData.hotelRequestsData.options.isNeed"
                                          ng-change="clearBlock(formData.hotelRequestsData.options.isNeed, 'hotel')"></checkbox>&nbsp;Гостиница не нужна
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-hide="formData.hotelRequestsData.options.isNeed">
            <form name="hotelForm" class="table-responsive no-padding">
                <table class="table table-bordered table-hover val-table">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>Страна</th>
                            <th>Город</th>
                            <th>Гостиница</th>
                            <th>Дата заезда</th>
                            <th>Дата выезда</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="hr in formData.hotelRequestsData.rows track by $index">
                            <td>{{$index + 1}}</td>
                            <td width="170px">
                                <select ng-model="hr.country" ng-disabled="accessList.hotelRequestsData == 1" selectpicker="{liveSearch: true}" class="form-control" data-container="body" ng-options="item as item.Name for item in filteredCountries track by item.Id" data-size="10" title="Выберите страну..." validation-name="country" validation-dynamically-defined="validations">
                                    <option data-hidden="true"></option>
                                </select>
                            </td>
                            <td>
                                <input type="text" ng-model="hr.city" ng-disabled="accessList.hotelRequestsData == 1" ng-change="resetHotel(hr)" typeahead-min-length="3" uib-typeahead="state.Name for state in countryToCityFilter(hr) | filter:$viewValue " class="form-control" validation-name="city" validation-dynamically-defined="validations">
                            </td>
                            <td>
                                <input type="text" ng-model="hr.hotel" ng-disabled="accessList.hotelRequestsData == 1" typeahead-min-length="0" uib-typeahead="state.Name for state in cityToHotelFilter(hr) | filter:$viewValue" class="form-control" validation-name="hotel" validation-dynamically-defined="validations">
                            </td>
                            <td width="160px">
                                <div class="form-group has-feedback">
                                    <input name="startDateInput" required date-range-picker ng-disabled="accessList.hotelRequestsData == 1" options="{singleDatePicker: true }" ui-mask="99.99.9999" class="form-control date-picker" type="text" ng-model="hr.startDate" validation-name="hotelDateInRange" validation-dynamically-defined="validations" />
                                    <i class="fa fa-calendar form-control-feedback"></i>
                                </div>
                            </td>
                            <td width="160px">
                                <div class="form-group has-feedback">
                                    <input name="endDateInput" required date-range-picker ng-disabled="accessList.hotelRequestsData == 1" options="{singleDatePicker: true }" ui-mask="99.99.9999" class="form-control date-picker" type="text" ng-model="hr.endDate" validation-name="hotelDateInRange" validation-dynamically-defined="validations" />
                                    <i class="fa fa-calendar form-control-feedback"></i>
                                </div>
                            </td>
                            <td width="30px">
                                <button type="button" class="btn btn-flat val-btn-remove" ng-disabled="accessList.hotelRequestsData == 1" ng-click="removeHotelRequest()">
                                    <span class="fa fa-remove"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <div class="row">
                <div class="col-lg-12">
                    <button type="button" ng-disabled="accessList.hotelRequestsData == 1" class="btn btn-flat btn-info val-btn val-btn-margin pull-right" ng-click="addHotelRequest()"><i class="fa fa-plus"></i> Добавить гостиницу</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Заказ трансферов -->
    <div class="panel panel-default val-panel" ng-show="checkBlockVisibility('transfer')">
        <div class="panel-heading">
            <div class="row">
                <div class="form-inline col-lg-12">
                    <div class="form-group">
                        <h3 class="col-lg-12">Заказ трансферов</h3>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-inline col-lg-12">
                    <div class="form-group col-lg-12">
                        <div class="checkbox">
                            <label>
                                <checkbox ng-disabled="accessList.trasferRequestsData == 1" ng-model="formData.trasferRequestsData.options.isNeed" ng-value="formData.trasferRequestsData.options.isNeed"
                                          ng-change="clearBlock(formData.hotelRequestsData.options.isNeed, 'transfer')"></checkbox>&nbsp;Трансферы не нужны
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-hide="formData.trasferRequestsData.options.isNeed">
            <form name="transferForm" class="table-responsive no-padding">
                <table class="table table-bordered table-hover val-table">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>Дата и время</th>
                            <th>Откуда</th>
                            <th>Куда</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="tr in formData.trasferRequestsData.rows track by $index">
                            <td>{{$index + 1}}</td>
                            <td width="180px">
                                <div class="form-group has-feedback">
                                    <input date-range-picker ng-disabled="accessList.trasferRequestsData == 1" options="{singleDatePicker: true, timePicker: true, timePicker24Hour: true, locale: {format: 'DD.MM.YYYY hh:mm'}}"
                                           class="form-control datetime-picker" type="text" ui-mask="99.99.9999 99:99" ng-model="tr.date" validation-name="transferDateInRange" validation-dynamically-defined="validations" />
                                    <i class="fa fa-calendar form-control-feedback"></i>
                                </div>
                            </td>
                            <td>
                                <input type="text" ng-disabled="accessList.trasferRequestsData == 1" ng-model="tr.from" ng-value="tr.from" class="form-control" validation-name="inputField" validation-dynamically-defined="validations" />
                            </td>
                            <td>
                                <input type="text" ng-disabled="accessList.trasferRequestsData == 1" ng-model="tr.to" ng-value="tr.to" class="form-control" validation-name="inputField" validation-dynamically-defined="validations" />
                            </td>
                            <td width="30px">
                                <button type="button" class="btn btn-flat val-btn-remove" ng-disabled="accessList.trasferRequestsData == 1" ng-click="removeTransferRequest()">
                                    <span class="fa fa-remove"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </form>
            <div class="row">
                <div class="col-lg-12">
                    <button type="button" class="btn btn-flat btn-info val-btn val-btn-margin pull-right" ng-disabled="accessList.trasferRequestsData == 1" ng-click="addTransferRequest()"><i class="fa fa-plus"></i> Добавить трансфер</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Тревел координатор  -->
    <div ng-show="travelBlockVisible">
        <h3 class="page-header">
            Тревел-координатор
        </h3>

        <div class="row">
            <div class="col-lg-4">
                <div class="form-horizontal">
                    <div class="form-group">
                        <span class="text-muted">Превышение лимита&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <checkbox ng-model="formData.scanPdfsData.options.overLimit" ng-disabled="accessList.travelCoordinator == 1"></checkbox>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <div class="form-horizontal">
                    <div class="form-group">
                        <span class="col-lg-2 control-label text-muted">
                            <p class="pull-left">Комментарий</p>
                        </span>
                        <div class="col-lg-10">
                            <textarea class="form-control" placeholder="..." rows="3" ng-model="formData.scanPdfsData.options.comment" ng-disabled="accessList.travelCoordinator == 1"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-default val-panel">
            <div class="panel-heading">
                <div class="row">
                    <div class="form-inline col-lg-4">
                        <div class="form-group">
                            <h3 class="col-lg-12">Электронные билеты и бронь гостиниц</h3>
                        </div>
                    </div>
                    <div class="form-inline col-lg-8">
                        <div class="col-lg-offset-5 col-lg-4">
                            <div class="form-group input-group pull-right">
                                <input type="text" class="form-control upload-file-info" placeholder="Выберите документ..." ng-model="selectedFile.name">
                                <span class="input-group-btn">
                                    <button ng-disabled="accessList.scanPdfsData == 1" class="btn btn-default" type="button" onclick="document.getElementById('scanFileInput').click();">
                                        <i class="fa fa-folder-open-o" style="cursor:pointer"></i>

                                    </button>
                                    <input type="file"
                                           style="display:none;"
                                           name="file_source" size="40"
                                           fileread="selectedFile" id="scanFileInput" />
                                </span>
                            </div>
                        </div>

                        <button type="button" ng-disabled="accessList.scanPdfsData == 1" class="btn btn-flat btn-info val-btn pull-right col-lg-3" ng-click="addScanPdf()" style="z-index:10"> Загрузить</button>
                    </div>
                </div>
            </div>
            <div class="table-responsive no-padding">
                <table class="table table-bordered table-hover val-table">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>Наименование документа</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="s in formData.scanPdfsData.rows track by $index">
                            <td width="5%"><span>{{$index + 1}}</span></td>
                            <td class="text-left">
                                <a ng-if="s.url != undefined" class="val-text" ng-bind="s.name" href="{{s.url}}" target="_blank">{{s.name}}</a>
                                <span ng-if="s.url == undefined" ng-bind="s.name">{{s.name}}</span>
                            </td>
                            <td width="30px">
                                <button class="btn btn-flat val-btn-remove" ng-click="removeScanPdf()">
                                    <span class="fa fa-remove"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
    <div class="row">
        <div class="col-lg-5">
            <div ng-if="formData.approvalPath.length > 0">
                <span class="text-muted">Маршрут согласования</span>
                <ul>
                    <li ng-repeat="path in formData.approvalPath track by $index" class="text-muted">{{path}}</li>
                </ul>
            </div>
        </div>
        <div class="col-lg-7">
            <a style="cursor: pointer;" class="val-text" ng-click="showHistory()">История изменения статуса</a>
        </div>
    </div>
    <div class="row">
        <div class="pull-right val-btn-group-horizontal">

            <button ng-hide="formData.actions[0] == 'Empty' "
                    ng-repeat="$action in formData.actions" type="button" class="btn btn-default" ng-click="save($action)">
                <span class="val-text">{{$action | uppercase}}</span>
            </button>
            <button type="button" class="btn btn-default" ng-click="goBack()">{{'Назад к списку'|uppercase}}</button>
        </div>
    </div>
    <br />
    <br />
</div>